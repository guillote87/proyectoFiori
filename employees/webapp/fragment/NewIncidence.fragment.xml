<core:FragmentDefinition xmlns:core="sap.ui.core" xmlns="sap.m">
    <Panel>
        <headerToolbar>
            <Toolbar>
                <core:Icon src="{= ${jsonIncidence>Status} === '0' ? 'accept' : 
                    ${jsonIncidence>Status} === '1' ? 'alert' :
                    ${jsonIncidence>Status} === '2' ? 'decline' : ''}" />
                <Title text="{i18n>incidence} {jsonIncidence>index} {path:'jsonIncidence>date',formatter:'.Formatter.dateFormat'}" />
                <ToolbarSpacer />
                <core:Icon src="delete" press="onDeleteIncidence" />
            </Toolbar>
        </headerToolbar>
        <content>
            <HBox>
                <VBox class="sapUiSmallMarginEnd">
                    <Text text="{i18n>incidenceDate}" />
                    <DatePicker dateValue="{jsonIncidence>date}" />
                </VBox>
                <VBox visible="{=${jsonIncidence>date} !== '' &amp;&amp; ${jsonIncidence>date} !== undefined }" class="sapUiSmallMarginEnd">
                    <Text text="{i18n>incidenceReason}" />
                    <Input />
                </VBox>
                <VBox visible="{=${jsonIncidence>date} !== '' &amp;&amp; ${jsonIncidence>date} !== undefined }" class="sapUiSmallMarginEnd">
                    <Text text="{i18n>incidenceType}" />
                    <Select selectedKey="{jsonIncidence>Status}" forceSelection="false">
                        <core:Item key="0" text="{i18n>incidenceCorrect}" />
                        <core:Item key="1" text="{i18n>incidencePending}" />
                        <core:Item key="2" text="{i18n>incidenceError}" />
                    </Select>
                </VBox>
            </HBox>
        </content>
    </Panel>
</core:FragmentDefinition>
